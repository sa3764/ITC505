<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Todoistic ğŸ“ - Modern Task App</title>
<link rel="stylesheet" href="style.css">

<!-- âœ… Add Manifest -->
<link rel="manifest" href="manifest.json">

<!-- âœ… PWA Theme Color -->
<meta name="theme-color" content="#f0f8ff">

<!-- âœ… Favicon / Icon -->
<link rel="icon" href="image.png" type="image/png">

</head>
<body>

<header>
  <h1 class="title">ğŸ“ Todoistic âš¡</h1>
  <p class="banner">Organize, track & celebrate your tasks! ğŸ‰âœ¨</p>
</header>

<main class="dashboard">

  <div class="controls">
    <input type="text" id="taskInput" placeholder="ğŸ’¡ Enter your task...">
    <select id="categorySelect">
      <option value="Cooking ğŸ³">Cooking ğŸ³</option>
      <option value="Cleaning ğŸ§¹">Cleaning ğŸ§¹</option>
      <option value="Studying ğŸ“š">Studying ğŸ“š</option>
      <option value="Writing âœï¸">Writing âœï¸</option>
      <option value="Fitness ğŸ‹ï¸">Fitness ğŸ‹ï¸</option>
      <option value="Shopping ğŸ›’">Shopping ğŸ›’</option>
      <option value="Birthday ğŸ‚">Birthday ğŸ‚</option>
      <option value="Wedding ğŸ’">Wedding ğŸ’</option>
      <option value="Exam ğŸ“">Exam ğŸ“</option>
      <option value="Study Reminder ğŸ“–">Study Reminder ğŸ“–</option>
    </select>

    <select id="prioritySelect">
      <option value="low">Low ğŸŸ¢</option>
      <option value="medium">Medium ğŸŸ¡</option>
      <option value="high">High ğŸ”´</option>
    </select>

    <input type="datetime-local" id="reminderInput">
    <select id="recurringSelect">
      <option value="none">No Repeat âŒ</option>
      <option value="daily">Daily ğŸ”</option>
      <option value="weekly">Weekly ğŸ”</option>
      <option value="monthly">Monthly ğŸ”</option>
    </select>

    <button id="addBtn">â• Add Task</button>
    <button id="themeBtn">ğŸŒ™ / â˜€ï¸</button>

    <!-- âœ… PWA Download (Install) Button -->
    <button id="installBtn">â¬‡ï¸ Download App</button>

    <select id="bgSelect">
      <option value="#f0f8ff">Sky Blue â˜ï¸</option>
      <option value="#ffe4e1">Pink ğŸŒ¸</option>
      <option value="#f5f5dc">Beige ğŸ–ï¸</option>
      <option value="#d3ffd3">Light Green ğŸ€</option>
      <option value="#fffacd">Light Yellow ğŸŒ</option>
    </select>
  </div>

  <div class="cards">
    <div class="card" id="todayCard">
      <h2>ğŸ—“ï¸ Today's Tasks</h2>
      <ul id="taskList"></ul>
    </div>

    <div class="card" id="completedCard">
      <h2>âœ… Completed Tasks</h2>
      <ul id="completedList"></ul>
    </div>

    <div class="card" id="reminderCard">
      <h2>â° Upcoming Reminders</h2>
      <ul id="reminderList"></ul>
    </div>

    <div class="card" id="progressCard">
      <h2>ğŸ“Š Progress</h2>
      <div id="progressContainer">
        <div id="progressBar"></div>
      </div>
    </div>

    <div class="card" id="quoteCard">
      <h2>ğŸ’¡ Motivation</h2>
      <p id="quote"></p>
    </div>

    <div class="card" id="sweetCard">
      <h2>ğŸ‰ Sweet Note</h2>
      <p id="sweetNote"></p>
    </div>
  </div>

</main>

<footer>
  <p id="status">ğŸŒ You are online</p>
  <p>Created with â¤ï¸ using Todoistic ğŸ“</p>
</footer>

<canvas id="confetti"></canvas>
<script src="app.js"></script>

<!-- âœ… PWA Scripts -->
<script>
  // Register Service Worker
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
      .then(() => console.log("âœ… Service Worker Registered"))
      .catch(err => console.log("âŒ Service Worker Error:", err));
  }

  // Handle Install Prompt
  let deferredPrompt;
  const installBtn = document.getElementById('installBtn');
  installBtn.style.display = 'none';

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    installBtn.style.display = 'inline-block';
  });

  installBtn.addEventListener('click', async () => {
    installBtn.style.display = 'none';
    if (deferredPrompt) {
      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      console.log(`User response to install: ${outcome}`);
      deferredPrompt = null;
    }
  });

  window.addEventListener('appinstalled', () => {
    console.log("âœ… Todoistic installed successfully!");
  });
</script>

</body>
</html>
